<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.92.1" />
    <meta name="description" content="">


    <link rel="icon" href="/guide/images/logo4.svg" type="image/svg">

    <title>02 - Templates and extended features :: latarnia-gh</title>

    
    <link href="/guide/css/nucleus.css?1648022991" rel="stylesheet">
    <link href="/guide/css/fontawesome-all.min.css?1648022991" rel="stylesheet">
    <link href="/guide/css/hybrid.css?1648022991" rel="stylesheet">
    <link href="/guide/css/featherlight.min.css?1648022991" rel="stylesheet">
    <link href="/guide/css/perfect-scrollbar.min.css?1648022991" rel="stylesheet">
    <link href="/guide/css/auto-complete.css?1648022991" rel="stylesheet">
    <link href="/guide/css/atom-one-dark-reasonable.css?1648022991" rel="stylesheet">
    <link href="/guide/css/theme.css?1648022991" rel="stylesheet">
    <link href="/guide/css/tabs.css?1648022991" rel="stylesheet">
    <link href="/guide/css/hugo-theme.css?1648022991" rel="stylesheet">
    
    <link href="/guide/css/theme-green.css?1648022991" rel="stylesheet">
    
    

    <script src="/guide/js/jquery-3.3.1.min.js?1648022991"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/guide/rmd_to_pdf/rmd2pdf_02.html">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://fcacollin.github.io/guide/">
  <img src="https://fcacollin.github.io/guide//images/logo9.svg" style="width:100px">
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/guide/js/lunr.min.js?1648022991"></script>
<script type="text/javascript" src="/guide/js/auto-complete.js?1648022991"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/fcacollin.github.io\/guide\/";
    
</script>
<script type="text/javascript" src="/guide/js/search.js?1648022991"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/guide/rmd_to_pdf.html" title="R Markdown to PDF" class="dd-item
        parent
        
        
        ">
      <a href="/guide/rmd_to_pdf.html">
          R Markdown to PDF
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/guide/rmd_to_pdf/rmd2pdf_01.html" title="01 - Understand the pipeline" class="dd-item ">
        <a href="/guide/rmd_to_pdf/rmd2pdf_01.html">
        01 - Understand the pipeline
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/guide/rmd_to_pdf/rmd2pdf_02.html" title="02 - Templates and extended features" class="dd-item active">
        <a href="/guide/rmd_to_pdf/rmd2pdf_02.html">
        02 - Templates and extended features
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/guide/rmd_to_pdf/citations.html" title="" class="dd-item ">
        <a href="/guide/rmd_to_pdf/citations.html">
        
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/guide/hugo.html" title="Hugo" class="dd-item
        
        
        
        ">
      <a href="/guide/hugo.html">
          Hugo
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/guide/'>Home</a> > <a href='/guide/rmd_to_pdf.html'>R Markdown to PDF</a> > 02 - Templates and extended features
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#1---introduction">1 - Introduction</a></li>
    <li><a href="#2-material-and-methods">2. Material and Methods</a></li>
    <li><a href="#3-results">3. Results</a></li>
    <li><a href="#4-discussion">4. Discussion</a></li>
    <li><a href="#references">References</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
<div class="tags">

  <a class="tag-link" href="/guide/tags/rmd">rmd</a>

</div>

        </div>
        
        <div id="body-inner">
          
            <h1>
              
              02 - Templates and extended features
            </h1>
          

        


<h2 id="1---introduction">1 - Introduction</h2>
<p>In the previous section, the pipeline behind the knit-click from the RStudio
interface was scrutinized to understand what tools are actucally involved,
what argument they can respectively digest, and how to pass them from the
R high level functions. It results that the fine tuning of the output is
accessible. However, the use of these options can be combersum, and
may not be very end-user friendly. A sensible user expectation is that once
an output is well configured, these should be translated into a template much
easier to reuse, hidding the unnecessary complexity, and only showing
the options that are desirable. This is where templates becomes handy.</p>

<div class="mermaid" align="left">
sequenceDiagram
    participant Rmd
    participant md
    participant tex
    participant pdf
    Rmd->>pdf: rmarkdown::pdf_document()
    Rmd->>md: R
    Note right of Rmd: rmarkdown arguments
    md->>+tex: Pandoc
    Note right of md: LaTeX Variables
    tex-->>-pdf: LaTeX engine
    tex-->>pdf: LaTeX template
    Note right of tex: e.g. Eisvogel
</div>

<h2 id="2-material-and-methods">2. Material and Methods</h2>
<p>A series of minimum working examples was generated to support the demonstration.
The examples were built at the same time as the results below were reported.</p>
<p>The environment for the examples was containerized, a docker image and
its definition was used to ensure reproducibility and / or enable the extenssion
of the work (Nüst et al. 2020).
The Docker definition was made publicly available at
<a href="https://github.com/FCACollin/ayup_dock">https://github.com/FCACollin/ayup_dock</a>.</p>
<p>In addition, the template used for this example was <em>eisvogel</em>, an open-source
LaTeX template for Pandoc, available in
<a href="https://github.com/Wandmalfarbe/pandoc-latex-template">GitHub</a>.
(Wagler and MacFarlane, 2021).</p>
<h2 id="3-results">3. Results</h2>
<p>The template <em>eisvogel</em> was cloned from the GitHub to a directory
<code>pandoc/eisvogel</code>, location given in reference to the own location of the
R Markodwn file calling the template. In addition, the file <code>eisvogel.tex</code>
was renamed as <code>eisvogel.latex</code>.</p>
<p>The LaTeX template is simply used through an expected <code>template</code> argument
handled by <code>pdf_document</code>. Therefore the yaml fronmt matter is such as:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">---
<span style="color:#f92672">title</span>: <span style="color:#e6db74">&#34;R Markdown to PDF&#34;</span>
<span style="color:#f92672">subtitle</span>:
    <span style="color:#ae81ff">The compexity can be alleviated with the use of templates\newline</span>
    <span style="color:#ae81ff">e.g. _Eisvogel_ </span>
    <span style="color:#ae81ff">([Pascal Wagler](https://github.com/Wandmalfarbe/pandoc-latex-template))</span>
<span style="color:#f92672">author</span>: <span style="color:#ae81ff">FCA Collin</span>
<span style="color:#f92672">date</span>: <span style="color:#e6db74">&#34;`r format(Sys.Date(), &#39;%d %B %Y&#39;)`&#34;</span>
<span style="color:#f92672">output</span>:
  <span style="color:#f92672">pdf_document</span>:
    <span style="color:#f92672">template</span>: <span style="color:#ae81ff">pandoc/eisvogel/eisvogel</span>
    <span style="color:#f92672">latex_engine</span>: <span style="color:#ae81ff">xelatex</span>
<span style="color:#f92672">titlepage</span>: <span style="color:#66d9ef">true</span>
<span style="color:#f92672">titlepage-color</span>: <span style="color:#e6db74">&#34;3F682E&#34;</span>
<span style="color:#f92672">titlepage-rule-color</span>: <span style="color:#e6db74">&#34;FFFFFF&#34;</span>
<span style="color:#f92672">titlepage-text-color</span>: <span style="color:#e6db74">&#34;FFFFFF&#34;</span>
---
</code></pre></div><p>The template comes with it own arguments, which complete the Pandoc
LaTeX variables, that is whjy, to be used, they just need to be declared as
extra configuration lines in the yaml section (e.g. <code>titlepage</code>).</p>
<p><a href="pdf/rmd2pdf_02_01.pdf">Open the pdf example.</a></p>
<script type="text/javascript" src= 'https://fcacollin.github.io/guide//js/pdf-js/build/pdf.js'></script>
<style>
#the-canvas {
  border: 1px solid black;
  direction: ltr;
  width: 100%;
  height: auto;
  display: none;
  max-width: 500px;
  margin: 0 auto;
}

#paginator {
  display: none;
  text-align: center;
  margin-bottom: 10px;
}

#loadingWrapper {
  display: none;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 350px;
}

#loading {
  display: inline-block;
  width: 50px;
  height: 50px;
  border: 3px solid #d2d0d0;;
  border-radius: 50%;
  border-top-color: #383838;
  animation: spin 1s ease-in-out infinite;
  -webkit-animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
  to { -webkit-transform: rotate(360deg); }
}
@-webkit-keyframes spin {
  to { -webkit-transform: rotate(360deg); }
}
</style>

<div id="paginator">
    <button id="prev">Previous</button>
    <button id="next">Next</button>
    &nbsp; &nbsp;
    <span>Page: <span id="page_num"></span> / <span id="page_count"></span></span>
</div>
<div id="embed-pdf-container">
    <div id="loadingWrapper">
      <div id="loading"></div>
    </div>
    <canvas id="the-canvas"></canvas>
</div>

<script type="text/javascript">
window.onload = function() {


var url = "https:\/\/fcacollin.github.io\/guide\/" + 'rmd_to_pdf\/pdf\/rmd2pdf_02_01.pdf';

var hidePaginator = "" === "true";
var hideLoader = "" === "true";
var selectedPageNum = parseInt("") || 1;


var pdfjsLib = window['pdfjs-dist/build/pdf'];


pdfjsLib.GlobalWorkerOptions.workerSrc = "https:\/\/fcacollin.github.io\/guide\/" + '/js/pdf-js/build/pdf.worker.js';


var pdfDoc = null,
    pageNum = selectedPageNum,
    pageRendering = false,
    pageNumPending = null,
    scale = 3,
    canvas = document.getElementById('the-canvas'),
    ctx = canvas.getContext('2d'),
    paginator = document.getElementById("paginator"),
    loadingWrapper = document.getElementById('loadingWrapper');



showPaginator();
showLoader();



function renderPage(num) {
  pageRendering = true;
  
  pdfDoc.getPage(num).then(function(page) {
    var viewport = page.getViewport({scale: scale});
    canvas.height = viewport.height;
    canvas.width = viewport.width;

    
    var renderContext = {
      canvasContext: ctx,
      viewport: viewport
    };
    var renderTask = page.render(renderContext);

    
    renderTask.promise.then(function() {
      pageRendering = false;
      showContent();
      
      if (pageNumPending !== null) {
        
        renderPage(pageNumPending);
        pageNumPending = null;
      }
    });
  });

  
  document.getElementById('page_num').textContent = num;
}



function showContent() {
  loadingWrapper.style.display = 'none';
  canvas.style.display = 'block';
}



function showLoader() {
  if(hideLoader) return
  loadingWrapper.style.display = 'flex';
  canvas.style.display = 'none';
}



function showPaginator() {
  if(hidePaginator) return
  paginator.style.display = 'block';
}



function queueRenderPage(num) {
  if (pageRendering) {
    pageNumPending = num;
  } else {
    renderPage(num);
  }
}



function onPrevPage() {
  if (pageNum <= 1) {
    return;
  }
  pageNum--;
  queueRenderPage(pageNum);
}
document.getElementById('prev').addEventListener('click', onPrevPage);



function onNextPage() {
  if (pageNum >= pdfDoc.numPages) {
    return;
  }
  pageNum++;
  queueRenderPage(pageNum);
}
document.getElementById('next').addEventListener('click', onNextPage);



pdfjsLib.getDocument(url).promise.then(function(pdfDoc_) {
  pdfDoc = pdfDoc_;
  var numPages = pdfDoc.numPages;
  document.getElementById('page_count').textContent = numPages;
  
  
  if(pageNum > numPages) {
    pageNum = numPages
  }

  
  renderPage(pageNum);
});
}

</script>

<h2 id="4-discussion">4. Discussion</h2>
<h2 id="references">References</h2>
<p>Nüst, Daniel, Vanessa Sochat, Ben Marwick, Stephen J Eglen, Tim Head,
Tony Hirst, and Benjamin D Evans. 2020. “Ten Simple Rules for Writing
Dockerfiles for Reproducible Data Science.” Public Library of Science
San Francisco, CA USA. <a href="https://doi.org/10.1371/journal.pcbi.1008316">https://doi.org/10.1371/journal.pcbi.1008316</a>.</p>
<p>Wagler, Pascal, and John MacFarlane. 2021. “Eisvogel Pandoc Latex
Template.” GitHub Wandmalfarbe.
<a href="https://github.com/Wandmalfarbe/pandoc-latex-template">https://github.com/Wandmalfarbe/pandoc-latex-template</a>.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/guide/rmd_to_pdf/rmd2pdf_01.html" title="01 - Understand the pipeline"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/guide/rmd_to_pdf/citations.html" title="" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/guide/js/clipboard.min.js?1648022991"></script>
    <script src="/guide/js/perfect-scrollbar.min.js?1648022991"></script>
    <script src="/guide/js/perfect-scrollbar.jquery.min.js?1648022991"></script>
    <script src="/guide/js/jquery.sticky.js?1648022991"></script>
    <script src="/guide/js/featherlight.min.js?1648022991"></script>
    <script src="/guide/js/highlight.pack.js?1648022991"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/guide/js/modernizr.custom-3.6.0.js?1648022991"></script>
    <script src="/guide/js/learn.js?1648022991"></script>
    <script src="/guide/js/hugo-learn.js?1648022991"></script>
    
        
            <script src="/guide/mermaid/mermaid.js?1648022991"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

